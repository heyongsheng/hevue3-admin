import{d as L,e as h,F as D,G as E,o as l,c as P,H as i,k as u,w as t,B as d,g as n,j as s,I as p,h as r,J as B,K as N,L as S,M as H,N as R,O as $,P as I,Q as V,q as A,R as j,a as q}from"./index-9f8c10db.js";import{E as F,a as G,v as J}from"./table-column-a90d0ff6.js";import"./checkbox-cce8d99f.js";import"./tag-b4e40871.js";import{E as K}from"./popconfirm-6533a408.js";import{g as O,d as Q}from"./menu-ce285b34.js";import z from"./menuModal-62b74050.js";import"./overlay-52c4d410.js";import"./radio-806185dc.js";import"./tree-fdbaf577.js";const U={class:"menu-manage"},W=L({__name:"menuManage",setup(X){const m=h(),_=h(!1),f=()=>{_.value=!0,O().then(o=>{_.value=!1,m.value=I({list:o.data})})};D(()=>{f()});const g=h(),v=o=>{g.value.showPop(o)},k=o=>{Q().then(()=>{V.success({title:"成功",message:"删除菜单成功"}),f()})};return(o,b)=>{const c=A,a=F,C=j,T=K,x=G,y=E("permission"),M=J;return l(),P("div",U,[i((l(),u(c,{type:"primary",onClick:b[0]||(b[0]=e=>v())},{default:t(()=>[d("添加菜单")]),_:1})),[[y,"sys:menu:add"]]),i((l(),u(x,{data:m.value,border:!0,"row-key":"_id",style:{"margin-top":"20px"}},{default:t(()=>[n(a,{prop:"title",label:"菜单名称"}),n(a,{prop:"menuType",label:"菜单类型",width:"100"},{default:t(({row:e})=>[s("div",null,p(r(B)[e.menuType]),1)]),_:1}),n(a,{prop:"path",label:"访问路径"}),n(a,{prop:"name",label:"路由名称"}),n(a,{prop:"icon",label:"图标",width:"80",align:"center"},{default:t(({row:e})=>[n(C,{name:e.icon},null,8,["name"])]),_:1}),n(a,{prop:"sort",label:"排序",width:"80",align:"center"}),n(a,{prop:"hidden",label:"隐藏菜单",width:"80",align:"center"},{default:t(({row:e})=>[s("div",null,p(r(N)[e.hidden]),1)]),_:1}),n(a,{prop:"cachee",label:"缓存页面",width:"80",align:"center"},{default:t(({row:e})=>[s("div",null,p(r(S)[e.cache]),1)]),_:1}),n(a,{prop:"affix",label:"固定标签栏",width:"80",align:"center"},{default:t(({row:e})=>[s("div",null,p(r(H)[e.affix]),1)]),_:1}),n(a,{prop:"alwaysShow",label:"常显菜单",width:"80",align:"center"},{default:t(({row:e})=>[s("div",null,p(r(R)[e.alwaysShow]),1)]),_:1}),n(a,{prop:"permission",label:"权限标识"}),n(a,{label:"操作",width:"180"},{default:t(({row:e})=>[i(n(c,{type:"primary",link:"",onClick:w=>v({parentId:e._id,menuType:e.menuType==="1"?"2":"3"})},{default:t(()=>[d("添加")]),_:2},1032,["onClick"]),[[$,e.menuType!=="3"]]),i((l(),u(c,{link:"",type:"primary",onClick:w=>v(e)},{default:t(()=>[d("编辑")]),_:2},1032,["onClick"])),[[y,"sys:menu:edit"]]),n(T,{title:"确定删除吗?",onConfirm:w=>k(e._id)},{reference:t(()=>[i((l(),u(c,{link:"",type:"primary"},{default:t(()=>[d("删除")]),_:1})),[[y,"sys:menu:delete"]])]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])),[[M,_.value]]),n(z,{ref_key:"menuPopRef",ref:g,onReloadList:f,menuList:m.value},null,8,["menuList"])])}}});const pe=q(W,[["__scopeId","data-v-5f1db51b"]]);export{pe as default};
