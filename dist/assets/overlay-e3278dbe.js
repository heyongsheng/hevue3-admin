import{cg as he,bM as J,b0 as Te,ch as Q,ci as V,ba as j,cj as x,be as ee,b4 as q,bf as Ae,b1 as te,br as F,i as Ee,bn as Se,Y as K,ck as Oe,bx as ne,a9 as Y,bz as Pe,aw as Be,cl as Ie,av as Le,cm as G,S as H,aI as Z,d as fe,g as O,cn as k,a0 as P,ad as De,ak as Me,aa as ce,W as Re,a8 as $e,by as _e,c1 as se,e as B,co as Ne,cp as Fe,X as I,Z as pe,a7 as He,F as ze,cq as ae,cr as Ue,an as qe,c2 as Ge,c3 as le,am as ke,a3 as We,aB as M,o as E,k as Ye,w as R,H as Ze,j as oe,a1 as Ke,aC as Xe,$ as A,c as L,I as Je,m as S,O as Qe,bI as Ve,cs as je,a5 as xe}from"./index-5f3dae94.js";var et="__lodash_hash_undefined__";function tt(e){return this.__data__.set(e,et),this}function nt(e){return this.__data__.has(e)}function N(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new he;++t<n;)this.add(e[t])}N.prototype.add=N.prototype.push=tt;N.prototype.has=nt;function st(e,t){for(var n=-1,s=e==null?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}function at(e,t){return e.has(t)}var lt=1,ot=2;function ve(e,t,n,s,o,a){var l=n&lt,i=e.length,r=t.length;if(i!=r&&!(l&&r>i))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var c=-1,d=!0,p=n&ot?new N:void 0;for(a.set(e,t),a.set(t,e);++c<i;){var v=e[c],y=t[c];if(s)var g=l?s(y,v,c,t,e,a):s(v,y,c,e,t,a);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!st(t,function(b,w){if(!at(p,w)&&(v===b||o(v,b,n,s,a)))return p.push(w)})){d=!1;break}}else if(!(v===y||o(v,y,n,s,a))){d=!1;break}}return a.delete(e),a.delete(t),d}function rt(e){var t=-1,n=Array(e.size);return e.forEach(function(s,o){n[++t]=[o,s]}),n}function it(e){var t=-1,n=Array(e.size);return e.forEach(function(s){n[++t]=s}),n}var ut=1,dt=2,ft="[object Boolean]",ct="[object Date]",pt="[object Error]",vt="[object Map]",yt="[object Number]",mt="[object RegExp]",gt="[object Set]",bt="[object String]",wt="[object Symbol]",Ct="[object ArrayBuffer]",ht="[object DataView]",re=J?J.prototype:void 0,W=re?re.valueOf:void 0;function Tt(e,t,n,s,o,a,l){switch(n){case ht:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ct:return!(e.byteLength!=t.byteLength||!a(new Q(e),new Q(t)));case ft:case ct:case yt:return Te(+e,+t);case pt:return e.name==t.name&&e.message==t.message;case mt:case bt:return e==t+"";case vt:var i=rt;case gt:var r=s&ut;if(i||(i=it),e.size!=t.size&&!r)return!1;var u=l.get(e);if(u)return u==t;s|=dt,l.set(e,t);var f=ve(i(e),i(t),s,o,a,l);return l.delete(e),f;case wt:if(W)return W.call(e)==W.call(t)}return!1}var At=1,Et=Object.prototype,St=Et.hasOwnProperty;function Ot(e,t,n,s,o,a){var l=n&At,i=V(e),r=i.length,u=V(t),f=u.length;if(r!=f&&!l)return!1;for(var c=r;c--;){var d=i[c];if(!(l?d in t:St.call(t,d)))return!1}var p=a.get(e),v=a.get(t);if(p&&v)return p==t&&v==e;var y=!0;a.set(e,t),a.set(t,e);for(var g=l;++c<r;){d=i[c];var b=e[d],w=t[d];if(s)var D=l?s(w,b,d,t,e,a):s(b,w,d,e,t,a);if(!(D===void 0?b===w||o(b,w,n,s,a):D)){y=!1;break}g||(g=d=="constructor")}if(y&&!g){var h=e.constructor,C=t.constructor;h!=C&&"constructor"in e&&"constructor"in t&&!(typeof h=="function"&&h instanceof h&&typeof C=="function"&&C instanceof C)&&(y=!1)}return a.delete(e),a.delete(t),y}var Pt=1,ie="[object Arguments]",ue="[object Array]",$="[object Object]",Bt=Object.prototype,de=Bt.hasOwnProperty;function It(e,t,n,s,o,a){var l=j(e),i=j(t),r=l?ue:x(e),u=i?ue:x(t);r=r==ie?$:r,u=u==ie?$:u;var f=r==$,c=u==$,d=r==u;if(d&&ee(e)){if(!ee(t))return!1;l=!0,f=!1}if(d&&!f)return a||(a=new q),l||Ae(e)?ve(e,t,n,s,o,a):Tt(e,t,r,n,s,o,a);if(!(n&Pt)){var p=f&&de.call(e,"__wrapped__"),v=c&&de.call(t,"__wrapped__");if(p||v){var y=p?e.value():e,g=v?t.value():t;return a||(a=new q),o(y,g,n,s,a)}}return d?(a||(a=new q),Ot(e,t,n,s,o,a)):!1}function ye(e,t,n,s,o){return e===t?!0:e==null||t==null||!te(e)&&!te(t)?e!==e&&t!==t:It(e,t,n,s,ye,o)}function jt(e,t){return ye(e,t)}let _;const Lt=e=>{var t;if(!F)return 0;if(_!==void 0)return _;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const s=n.offsetWidth;n.style.overflow="scroll";const o=document.createElement("div");o.style.width="100%",n.appendChild(o);const a=o.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),_=s-a,_};function xt(e,t){if(!F)return;if(!t){e.scrollTop=0;return}const n=[];let s=t.offsetParent;for(;s!==null&&e!==s&&e.contains(s);)n.push(s),s=s.offsetParent;const o=t.offsetTop+n.reduce((r,u)=>r+u.offsetTop,0),a=o+t.offsetHeight,l=e.scrollTop,i=l+e.clientHeight;o<l?e.scrollTop=o:a>i&&(e.scrollTop=a-e.clientHeight)}const Dt=(e,t={})=>{Ee(e)||Se("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||K("popup"),s=Oe(()=>n.bm("parent","hidden"));if(!F||ne(document.body,s.value))return;let o=0,a=!1,l="0";const i=()=>{setTimeout(()=>{Le(document==null?void 0:document.body,s.value),a&&document&&(document.body.style.width=l)},200)};Y(e,r=>{if(!r){i();return}a=!ne(document.body,s.value),a&&(l=document.body.style.width),o=Lt(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,f=Pe(document.body,"overflowY");o>0&&(u||f==="scroll")&&a&&(document.body.style.width=`calc(100% - ${o}px)`),Be(document.body,s.value)}),Ie(()=>i())},Mt=e=>{if(!e)return{onClick:G,onMousedown:G,onMouseup:G};let t=!1,n=!1;return{onClick:l=>{t&&n&&e(l),t=n=!1},onMousedown:l=>{t=l.target===l.currentTarget},onMouseup:l=>{n=l.target===l.currentTarget}}},Rt=H({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Z([String,Array,Object])},zIndex:{type:Z([String,Number])}}),$t={click:e=>e instanceof MouseEvent},_t="overlay";var Nt=fe({name:"ElOverlay",props:Rt,emits:$t,setup(e,{slots:t,emit:n}){const s=K(_t),o=r=>{n("click",r)},{onClick:a,onMousedown:l,onMouseup:i}=Mt(e.customMaskEvent?void 0:o);return()=>e.mask?O("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:l,onMouseup:i},[P(t,"default")],k.STYLE|k.CLASS|k.PROPS,["onClick","onMouseup","onMousedown"]):De("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[P(t,"default")])}});const Ft=Nt,Ht=H({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:Me},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),zt=H({...Ht,appendToBody:{type:Boolean,default:!1},beforeClose:{type:Z(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),Ut={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ce]:e=>Re(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},qt=(e,t)=>{const s=$e().emit,{nextZIndex:o}=_e();let a="";const l=se(),i=se(),r=B(!1),u=B(!1),f=B(!1),c=B(e.zIndex||o());let d,p;const v=Ne("namespace",Fe),y=I(()=>{const m={},T=`--${v.value}-dialog`;return e.fullscreen||(e.top&&(m[`${T}-margin-top`]=e.top),e.width&&(m[`${T}-width`]=pe(e.width))),m}),g=I(()=>e.alignCenter?{display:"flex"}:{});function b(){s("opened")}function w(){s("closed"),s(ce,!1),e.destroyOnClose&&(f.value=!1)}function D(){s("close")}function h(){p==null||p(),d==null||d(),e.openDelay&&e.openDelay>0?{stop:d}=ae(()=>X(),e.openDelay):X()}function C(){d==null||d(),p==null||p(),e.closeDelay&&e.closeDelay>0?{stop:p}=ae(()=>U(),e.closeDelay):U()}function z(){function m(T){T||(u.value=!0,r.value=!1)}e.beforeClose?e.beforeClose(m):C()}function me(){e.closeOnClickModal&&z()}function X(){F&&(r.value=!0)}function U(){r.value=!1}function ge(){s("openAutoFocus")}function be(){s("closeAutoFocus")}function we(m){var T;((T=m.detail)==null?void 0:T.focusReason)==="pointer"&&m.preventDefault()}e.lockScroll&&Dt(r);function Ce(){e.closeOnPressEscape&&z()}return Y(()=>e.modelValue,m=>{m?(u.value=!1,h(),f.value=!0,c.value=e.zIndex?c.value++:o(),He(()=>{s("open"),t.value&&(t.value.scrollTop=0)})):r.value&&C()}),Y(()=>e.fullscreen,m=>{t.value&&(m?(a=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=a)}),ze(()=>{e.modelValue&&(r.value=!0,f.value=!0,h())}),{afterEnter:b,afterLeave:w,beforeLeave:D,handleClose:z,onModalClick:me,close:C,doClose:U,onOpenAutoFocus:ge,onCloseAutoFocus:be,onCloseRequested:Ce,onFocusoutPrevented:we,titleId:l,bodyId:i,closed:u,style:y,overlayDialogStyle:g,rendered:f,visible:r,zIndex:c}},Gt=H({...zt,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),kt=Ut,Wt=fe({name:"ElDrawer",components:{ElOverlay:Ft,ElFocusTrap:Ue,ElIcon:qe,Close:Ge},inheritAttrs:!1,props:Gt,emits:kt,setup(e,{slots:t}){le({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},I(()=>!!t.title)),le({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},I(()=>!!e.customClass));const n=B(),s=B(),o=K("drawer"),{t:a}=ke(),l=I(()=>e.direction==="rtl"||e.direction==="ltr"),i=I(()=>pe(e.size));return{...qt(e,n),drawerRef:n,focusStartRef:s,isHorizontal:l,drawerSize:i,ns:o,t:a}}}),Yt=["aria-label","aria-labelledby","aria-describedby"],Zt=["id"],Kt=["aria-label"],Xt=["id"];function Jt(e,t,n,s,o,a){const l=M("close"),i=M("el-icon"),r=M("el-focus-trap"),u=M("el-overlay");return E(),Ye(je,{to:"body",disabled:!e.appendToBody},[O(Ve,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:R(()=>[Ze(O(u,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:R(()=>[O(r,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:R(()=>[oe("div",Ke({ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId},e.$attrs,{class:[e.ns.b(),e.direction,e.visible&&"open",e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,role:"dialog",onClick:t[1]||(t[1]=Xe(()=>{},["stop"]))}),[oe("span",{ref:"focusStartRef",class:A(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(E(),L("header",{key:0,class:A(e.ns.e("header"))},[e.$slots.title?P(e.$slots,"title",{key:1},()=>[S(" DEPRECATED SLOT ")]):P(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?S("v-if",!0):(E(),L("span",{key:0,id:e.titleId,role:"heading",class:A(e.ns.e("title"))},Je(e.title),11,Zt))]),e.showClose?(E(),L("button",{key:2,"aria-label":e.t("el.drawer.close"),class:A(e.ns.e("close-btn")),type:"button",onClick:t[0]||(t[0]=(...f)=>e.handleClose&&e.handleClose(...f))},[O(i,{class:A(e.ns.e("close"))},{default:R(()=>[O(l)]),_:1},8,["class"])],10,Kt)):S("v-if",!0)],2)):S("v-if",!0),e.rendered?(E(),L("div",{key:1,id:e.bodyId,class:A(e.ns.e("body"))},[P(e.$slots,"default")],10,Xt)):S("v-if",!0),e.$slots.footer?(E(),L("div",{key:2,class:A(e.ns.e("footer"))},[P(e.$slots,"footer")],2)):S("v-if",!0)],16,Yt)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Qe,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Qt=We(Wt,[["render",Jt],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const en=xe(Qt);export{en as E,ye as b,jt as i,xt as s};
